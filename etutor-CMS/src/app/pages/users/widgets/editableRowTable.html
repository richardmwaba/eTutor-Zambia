<div class="add-row-editable-table">
  <button class="btn btn-primary" ng-click="addUser()">Add user</button>
</div>
<table class="table table-hover table-condensed" st-table="users">
  <thead>
    <tr class="sortable">
      <th class="table-id" st-sort="id" st-sort-default="true">#</th>
      <th st-sort="firstName">First Name</th>
      <th st-sort="lastName">Last Name</th>
      <th st-sort="username">Username</th>
      <th st-sort="email">Email</th>
      <th st-sort="phoneNumber">Contact</th>
      <th>Address</th>
      <th st-sort="group">Group</th>
      <th>Actions</th>
    </tr>
    <tr>
      <th>

      </th>
      <th>
        <input st-search="firstName" placeholder="Search First Name" class="input-sm form-control search-input" type="search" />
      </th>
      <th>
        <input st-search="lastName" placeholder="Search Last Name" class="input-sm form-control search-input" type="search" />
      </th>
      <th>
        <input st-search="username" placeholder="Search Username" class="input-sm form-control search-input" type="search" />
      </th>
      <th>
        <input st-search="email" placeholder="Search Email" class="input-sm form-control search-input" type="search" />
      </th>
      <th>
        <input st-search="phoneNumber" placeholder="Search Contact" class="input-sm form-control search-input" type="search" />
      </th>
      <th>
        <input st-search="address" placeholder="Search Address" class="input-sm form-control search-input" type="search" />
      </th>
      <th>
        <input st-search="group" placeholder="Search Group" class="input-sm form-control search-input" type="search" />
      </th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="user in users" class="editable-row">
      <td>
        {{ user.id }}
      </td>
      <td>
        <span editable-text="user.firstName" e-name="firstName" e-form="rowform" e-required>
          {{ user.firstName || 'empty' }}
        </span>
      </td>
      <td>
        <span editable-text="user.lastName" e-name="lastName" e-form="rowform" e-required>
          {{ user.lastName || 'empty' }}
        </span>
      </td>
      <td>
        <span editable-text="user.username" e-name="username" e-form="rowform" e-required>
          {{ user.username || 'empty' }}
        </span>
      </td>
      </td>
      <td>
        <a class="email-link" ng-href="mailto:{{item.email}}">
          <span editable-text="user.email" e-name="email" e-form="rowform" e-required>
            {{ user.email || 'empty' }}
          </span>
        </a>
      </td>
      <td>
        <span editable-text="user.phoneNumber" e-name="phoneNumber" e-form="rowform" e-required>
          {{ user.phoneNumber || 'empty' }}
        </span>
      </td>
      <td>
        <span editable-text="user.address" e-name="address" e-form="rowform" e-required>
          {{ user.address || 'empty' }}
        </span>
      </td>
      <td class="select-td">
        <span editable-select="user.group" e-name="group" onshow="loadGroups()" e-form="rowform" e-selectpicker e-ng-options="g.id as g.text for g in groups">
          {{ showGroup(user) }}
        </span>
      </td>
      <td>
        <form editable-form name="rowform" ng-show="rowform.$visible" class="form-buttons form-inline" shown="inserted == user">
          <button type="submit" ng-disabled="rowform.$waiting" class="btn btn-primary btn-xs">
            <i class="ion-checkmark-round"></i>
          </button>
          <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default btn-xs">
            <i class="ion-close-round"></i>
          </button>
        </form>
        <div class="buttons" ng-show="!rowform.$visible">
          <button class="btn btn-primary btn-xs" ng-click="rowform.$show()">
            <i class="ion-edit"></i>
          </button>
          <button class="btn btn-danger btn-xs" ng-click="removeUser($index)">
            <i class="ion-trash-b"></i>
          </button>
        </div>
      </td>
    </tr>
  </tbody>
  <tfoot>
    <tr>
      <td colspan="8" class="text-center">
        <div st-pagination="" st-items-by-page="smartTablePageSize" st-displayed-pages="5"></div>
      </td>
    </tr>
  </tfoot>
</table>